
<!DOCTYPE html>
<html lang="am">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BINGO ETHIO - Super App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root { --green: #009b3a; --yellow: #fed100; --red: #ef3340; --dark: #0f172a; --card: #1e293b; }
        body { background: var(--dark); color: white; font-family: sans-serif; margin: 0; padding: 0; overflow-x: hidden; }

        /* 1. Splash Screen Style */
        #splash {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--dark); display: flex; flex-direction: column;
            align-items: center; justify-content: center; z-index: 9999;
        }
        .logo { font-size: 3rem; font-weight: 900; letter-spacing: -2px; }
        .logo span:nth-child(1) { color: var(--green); }
        .logo span:nth-child(2) { color: var(--yellow); }
        .logo span:nth-child(3) { color: var(--red); }
        .loader { width: 50px; height: 50px; border: 5px solid #334155; border-top: 5px solid var(--yellow); border-radius: 50%; animation: spin 1s linear infinite; margin-top: 20px; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* 2. Main UI Style */
        #main-ui { display: none; }
        .nav { display: flex; justify-content: space-around; background: var(--card); padding: 10px; position: sticky; top: 0; z-index: 100; border-bottom: 2px solid var(--yellow); }
        .nav-item { cursor: pointer; padding: 10px; font-weight: bold; color: #94a3b8; font-size: 0.9rem; }
        .nav-item.active { color: var(--yellow); border-bottom: 2px solid var(--yellow); }
        .tab-content { display: none; padding: 20px; animation: fadeIn 0.4s; }
        .tab-content.active { display: block; }
        .wallet-box { background: linear-gradient(135deg, #1e293b, #334155); padding: 20px; border-radius: 15px; margin-bottom: 20px; border-left: 5px solid var(--green); }
        .grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 5px; max-width: 350px; margin: 0 auto; background: #334155; padding: 10px; border-radius: 10px; }
        .cell { aspect-ratio: 1; background: var(--dark); border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 1.1rem; border: 1px solid #475569; font-weight: bold; }
        .cell.marked { background: var(--red); color: white; border-color: white; }
        input { width: 100%; padding: 12px; border-radius: 8px; border: none; background: #334155; color: white; margin: 10px 0; box-sizing: border-box; }
        .btn { width: 100%; padding: 15px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 1rem; }
        .btn-green { background: var(--green); color: white; }
        .btn-yellow { background: var(--yellow); color: #000; margin-top: 10px; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

    <div id="splash">
        <div class="logo"><span>BINGO</span><span> ETHIO</span></div>
        <div class="loader"></div>
        <p style="margin-top: 20px; color: #94a3b8;">·â†·àò·å´·äï ·àã·ã≠...</p>
    </div>

    <div id="main-ui">
        <div class="nav">
            <div class="nav-item active" onclick="showTab('game')">üéÆ ·åå·àù</div>
            <div class="nav-item" onclick="showTab('deposit')">üì• ·â•·à≠ ·ä†·àµ·åà·â£</div>
            <div class="nav-item" onclick="showTab('withdraw')">üì§ ·â•·à≠ ·ä†·ãç·å£</div>
        </div>

        <div id="game" class="tab-content active">
            <div class="wallet-box">
                <small style="color: #94a3b8;">·ã´·àà·ãé·âµ ·âÄ·à™ ·àÇ·à≥·â•</small>
                <h2 id="balance-view" style="margin: 5px 0;">0.00 ETB</h2>
                <small id="card-id" style="color: var(--yellow);">Card: #----</small>
            </div>
            <div class="grid" id="board"></div>
            <button class="btn btn-green" style="margin-top:20px;" onclick="claimBingo()">BINGO!</button>
        </div>

        <div id="deposit" class="tab-content">
            <h3>·åà·äï·ãò·â• ·ã´·àµ·åà·â°</h3>
            <div class="wallet-box">
                <p>·â¥·àå·â•·à≠ ·âÅ·å•·à≠: <b style="color: var(--yellow);">0912345678</b></p>
                <p>·àµ·àù: <b>·ã≥·åä ·â¢·äï·åé</b></p>
            </div>
            <label>·ã®·åç·â•·ã≠·âµ ·âÅ·å•·à≠ (Transaction ID)</label>
            <input type="text" id="tid" placeholder="·àà·àù·à≥·àå: 8JH76G54">
            <button class="btn btn-yellow" onclick="sendAction('DEPOSIT')">·ã∞·à®·à∞·äù ·ä†·à®·åã·åç·å•</button>
        </div>

        <div id="withdraw" class="tab-content">
            <h3>·åà·äï·ãò·â• ·ã´·ãç·å°</h3>
            <input type="number" id="w-amount" placeholder="·ã®·â•·à≠ ·àò·å†·äï">
            <input type="tel" id="w-phone" placeholder="·ã®·â¥·àå·â•·à≠ ·àµ·àç·ä≠ ·âÅ·å•·à≠">
            <button class="btn btn-green" onclick="sendAction('WITHDRAW')">·â•·à≠ ·ä†·ãç·å£</button>
        </div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        // 3 ·à∞·ä®·äï·ãµ Splash ·ä†·à≥·ã≠·â∂ UI·ãç·äï ·àò·ä≠·çà·âµ
        setTimeout(() => {
            document.getElementById('splash').style.display = 'none';
            document.getElementById('main-ui').style.display = 'block';
        }, 3000);

        function showTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            event.currentTarget.classList.add('active');
        }

        function createBoard() {
            const boardDiv = document.getElementById('board');
            const cardID = Math.floor(1000 + Math.random() * 9000);
            document.getElementById('card-id').innerText = "Card: #" + cardID;
            
            const ranges = [[1,15],[16,30],[31,45],[46,60],[61,75]];
            for(let r=0; r<5; r++){
                for(let c=0; c<5; c++){
                    let min = ranges[c][0], max = ranges[c][1];
                    let val = (r===2 && c===2) ? "FREE" : Math.floor(Math.random()*(max-min+1))+min;
                    let div = document.createElement('div');
                    div.className = 'cell' + (val==="FREE" ? " marked" : "");
                    div.innerText = val;
                    div.onclick = function() { this.classList.toggle('marked'); };
                    boardDiv.appendChild(div);
                }
            }
        }

        function sendAction(type) {
            let data = { action: type };
            if(type === 'DEPOSIT') data.tid = document.getElementById('tid').value;
            if(type === 'WITHDRAW') {
                data.amount = document.getElementById('w-amount').value;
                data.phone = document.getElementById('w-phone').value;
            }
            tg.sendData(JSON.stringify(data));
            tg.close(); // ·àò·à®·åÉ·ãç·äï ·àç·äÆ ·ä†·çë·äï ·ã≠·ãò·åã·àç
        }

        function claimBingo() {
            alert("·â¢·äï·åé ·â∞·à®·åã·åç·åß·àç! ·àò·à®·åÉ·ãç ·àà·ä†·ãµ·àö·äë ·ã∞·à≠·à∑·àç·ç¢");
            tg.sendData(JSON.stringify({action: "BINGO_CLAIM"}));
        }

        createBoard();
    </script>
</body>
</html>


